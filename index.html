<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="app.css" rel="stylesheet" type="text/css"/>
</head>

<body>
  <h1>Draggr. A bespoke drag-and-drop utility for handling data with children</h1>
  <h2>A draggable class</h2>

  <div class="draggr-wrapper">

    <div class="draggr">
      <div class="draggr-item" draggable="true"><p>Drag Me! n=0</p>
        <div class="draggr children"> </div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=1</p>
        <div class="draggr children"></div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=2</p>
        <div class="draggr children"></div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=3</p>
        <div class="draggr children"></div>
      </div>
    </div>

  </div>

    <div class="draggr-wrapper">

    <div class="draggr">
      <div class="draggr-item" draggable="true"><p>Drag Me! n=0</p>
        <div class="draggr children"> </div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=1</p>
        <div class="draggr children"></div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=2</p>
        <div class="draggr children">
          <div class="draggr-item" draggable="true"><p>Drag Me Level 2! n=0</p>
            <div class="draggr children"> </div>
          </div>
          <div class="draggr-item" draggable="true"><p>Drag Me! n=0</p>
            <div class="draggr children"> </div>
          </div>
        </div>
      </div>
      <div class="draggr-item" draggable="true"><p>Or Drag Me! n=3</p>
        <div class="draggr children"></div>
      </div>
    </div>

  </div>

  <script src="draggr.js"></script>
  <script>
    var draggers = document.querySelectorAll('.draggr');
    var draggrs = [];
    var dragconfig = {
      childShift: 20,
      onMove: function(){console.log("WHOA! IT WORKED!")}
    };
    [].forEach.call(draggers, function(item) {
      Draggr.create(item, dragconfig);
    });
  </script>
  <script src="scopetest.js"></script>
  <script>
    // testing some scoping!
    var Scopers = [
      Scoper.create({name: 'A'}),
      Scoper.create({name: 'B'})
    ];
    Scopers[0]._setClosureVar("Ungabuna!");
    Scopers[0]._whoami();
    Scopers[1]._whoami();
    Scopers[0]._genericHandler({name: 'fingafanga'});
    Scopers[0]._whoami();
  </script>
</body>
</html>